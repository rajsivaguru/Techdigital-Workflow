<mat-table  class="products-table"
            #table 
            [dataSource]="dataSource" 
            matSort
            [@animateStagger]="{value:'50'}" 
            fusePerfectScrollbar>
    <!-- Checkbox Column -->
    <!--<ng-container cdkColumnDef="checkbox">
        <mat-header-cell *cdkHeaderCellDef></mat-header-cell>
        <mat-cell *cdkCellDef="let job">
            <mat-checkbox [(ngModel)]="checkboxes[job.jobid]" (ngModelChange)="onSelectedChange(job.jobid)"
                          (click)="$event.stopPropagation()">
            </mat-checkbox>
        </mat-cell>
    </ng-container>-->

    <ng-container cdkColumnDef="jl_referenceid">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Job Code</mat-header-cell>
        <mat-cell *cdkCellDef="let job">
            <p class="text-truncate ">{{job.referenceid}}</p>
        </mat-cell>
    </ng-container>

    <!-- Name Column -->
    <ng-container cdkColumnDef="jl_title">
        <mat-header-cell *cdkHeaderCellDef  fxHide fxShow.gt-md mat-sort-header>Title</mat-header-cell>
        <mat-cell *cdkCellDef="let job"  fxHide fxShow.gt-md >
            <p class="">{{job.title}}</p>
        </mat-cell>
    </ng-container>

    <ng-container cdkColumnDef="jl_location">
                    <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>Location</mat-header-cell>
                    <mat-cell *cdkCellDef="let job" fxHide fxShow.gt-md>
                        <p class="company text-truncate">
                            {{job.location}}
                        </p>
                    </mat-cell>
                </ng-container>

    <!-- Company Column -->
    <ng-container cdkColumnDef="jl_publisheddate">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Published Date</mat-header-cell>
        <mat-cell *cdkCellDef="let job" >
            <p class="company text-truncate">
                {{job.publisheddate}}
            </p>
        </mat-cell>
    </ng-container>

     <ng-container cdkColumnDef="jl_priority">
        <mat-header-cell *cdkHeaderCellDef mat-sort-header>Priority</mat-header-cell>
        <mat-cell *cdkCellDef="let jobs" >
            <p class="phone text-truncate">
                {{jobs.priority}}
            </p>
        </mat-cell>
    </ng-container>
    <ng-container cdkColumnDef="jl_userlist" >
                    <mat-header-cell class="mat-sort-header-container_center" *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>#</mat-header-cell>
                    <mat-cell *cdkCellDef="let jobs" fxHide fxShow.gt-md>
                        <p class="text-center text-boxed text-boxed-red" *ngIf = "jobs.userlist <= 0">
                            {{jobs.userlist}}
                        </p>
                        <p class="text-center text-boxed text-boxed-green" *ngIf = "jobs.userlist > 0">
                            {{jobs.userlist}}
                        </p>
                    </mat-cell>
                </ng-container>

    <!-- Email Column -->
    <ng-container cdkColumnDef="jl_name">
        <mat-header-cell *cdkHeaderCellDef>Assigned To</mat-header-cell>
        <mat-cell *cdkCellDef="let job" >
            <!--<p class="email text-truncate">
                {{getJson(job.name)}}
            </p>-->
            <mat-select name="name" [ngModel] = "job.name.split(',')[0]" >
                <mat-option *ngFor="let username of job.name.split(',')" [value]="username"> {{username}} </mat-option>
            </mat-select>
        </mat-cell>
    </ng-container>

    <!-- Phone Column -->
   

    <!-- Job Title Column -->
    <!--<ng-container cdkColumnDef="status">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>Job Status</mat-header-cell>
        <mat-cell *cdkCellDef="let jobs" fxHide fxShow.gt-md>
            <p class="job-title text-truncate">
                {{jobs.status}}
            </p>
        </mat-cell>
    </ng-container>-->

    
    <!--<ng-container cdkColumnDef="description">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>Description</mat-header-cell>
        <mat-cell *cdkCellDef="let jobs" fxHide fxShow.gt-md>
            <p class="job-title text-truncate" >
                {{jobs.description}}
            </p>
        </mat-cell>
    </ng-container>-->
    <ng-container cdkColumnDef="jl_expirydate">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>Expiry Date</mat-header-cell>
        <mat-cell *cdkCellDef="let job" fxHide fxShow.gt-md>
            <p class="job-title text-truncate" title="{{job.expirydate}}">
                {{job.expirydate}}
            </p>
        </mat-cell>
    </ng-container>
    <ng-container cdkColumnDef="jl_isactive">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>Status</mat-header-cell>
        <mat-cell *cdkCellDef="let job" fxHide fxShow.gt-md>
            <p class="job-title text-truncate">
                {{job.isactive}}
            </p>
        </mat-cell>
    </ng-container>
    <ng-container cdkColumnDef="jl_createdby">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>Assigned By</mat-header-cell>
        <mat-cell *cdkCellDef="let job" fxHide fxShow.gt-md>
            <p class="job-title text-truncate" title="{{job.createdby}}">
                {{job.createdby}}
            </p>
        </mat-cell>
    </ng-container>
    <ng-container cdkColumnDef="jl_createdon">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-md mat-sort-header>Assigned On</mat-header-cell>
        <mat-cell *cdkCellDef="let job" fxHide fxShow.gt-md>
            <p class="job-title text-truncate" title="{{job.createdon}}">
                {{job.createdon}}
            </p>
        </mat-cell>
    </ng-container>
    <!--<ng-container cdkColumnDef="modifiedby">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-lg mat-sort-header>Modified By</mat-header-cell>
        <mat-cell *cdkCellDef="let job" fxHide fxShow.gt-lg>
            <p class="job-title text-truncate">
                {{job.modifiedby}}
            </p>
        </mat-cell>
    </ng-container>
    <ng-container cdkColumnDef="modifiedon">
        <mat-header-cell *cdkHeaderCellDef fxHide fxShow.gt-lg mat-sort-header>Modified On</mat-header-cell>
        <mat-cell *cdkCellDef="let job" fxHide fxShow.gt-lg>
            <p class="job-title text-truncate">
                {{job.modifiedon}}
            </p>
        </mat-cell>
    </ng-container>-->
    <!-- Buttons Column -->
    <ng-container cdkColumnDef="jl_buttons">
        <mat-header-cell *cdkHeaderCellDef></mat-header-cell>
        <mat-cell *cdkCellDef="let job">
            <div fxFlex="row" fxLayoutAlign="end center">
                <!--<button mat-icon-button (click)="$event.stopPropagation();toggleStar(job.jobid)" aria-label="Toggle star">
                    <mat-icon *ngIf="user.starred.includes(job.jobid)">star</mat-icon>
                    <mat-icon *ngIf="!user.starred.includes(job.jobid)">star_outline</mat-icon>
                </button>-->

                <button mat-icon-button [matMenuTriggerFor]="moreMenu" aria-label="More"
                        (click)="$event.stopPropagation();">
                    <mat-icon>more_vert</mat-icon>
                </button>

                <mat-menu #moreMenu="matMenu">
                    <button mat-menu-item aria-label="remove" (click)="deleteContact(job)">
                        <mat-icon>delete</mat-icon>
                        <span>Remove</span>
                    </button>
                </mat-menu>
            </div>

        </mat-cell>
    </ng-container>

    <mat-header-row *cdkHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *cdkRowDef="let job; columns: displayedColumns;"
             class="contact"
             [ngClass]="{'mat-light-blue-50-bg':checkboxes[job.jobid]}"
             [@animate]="{value:'*',params:{y:'100%'}}">
    </mat-row>
</mat-table>
<ng-container *ngIf ="dataSource.filteredData.length==0">
                <p style="color:red;" class="font-weight-900 text-center">No records found</p>
            </ng-container>
<mat-paginator #paginator
    [length]="dataSource.filteredData.length"
    [pageIndex]="0"
    [pageSize]="25"
    [pageSizeOptions]="[10, 25, 50, 100]">
</mat-paginator>

